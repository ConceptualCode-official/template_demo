import{h as A,g as r,j as e,B as j,k as N,U as C}from"./index-CRBeZLeH.js";import{a as o}from"./api-DRkCBYxQ.js";import{P as B,T as v,M as P}from"./Modal-B_u0SVFU.js";import{S as E}from"./square-pen-BG1vjrNn.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],O=A("search",M),T=()=>{const[h,k]=r.useState(""),[n,i]=r.useState([]),[w,c]=r.useState(!0),[u,x]=r.useState(!1),[d,b]=r.useState(null),[s,l]=r.useState({name:"",batch:"Batch A",age:"",status:"Active",fees:"Pending"});r.useEffect(()=>{y()},[]);const y=async()=>{c(!0);const t=await o.admin.getStudents();i(t),c(!1)},m=(t=null)=>{t?(b(t),l({name:t.name,batch:t.batch,age:t.age.toString(),status:t.status,fees:t.fees})):(b(null),l({name:"",batch:"Batch A",age:"",status:"Active",fees:"Pending"})),x(!0)},S=async t=>{if(t.preventDefault(),c(!0),d){const a=await o.admin.updateStudent(d.id,s);i(n.map(f=>f.id===d.id?a:f))}else{const a=await o.admin.createStudent(s);i([...n,a])}c(!1),x(!1)},p=async t=>{window.confirm("Are you sure you want to remove this student?")&&(await o.admin.deleteStudent(t),i(n.filter(a=>a.id!==t)))},g=n.filter(t=>t.name.toLowerCase().includes(h.toLowerCase()));return e.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Student Management"}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-1 sm:w-64",children:[e.jsx(O,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary outline-none",value:h,onChange:t=>k(t.target.value)})]}),e.jsxs(j,{onClick:()=>m(),className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx(B,{className:"w-4 h-4"})," ",e.jsx("span",{className:"hidden sm:inline",children:"Add Student"})]})]})]}),w&&!u?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading student records..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden grid gap-4",children:g.map((t,a)=>e.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.05},className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center",children:e.jsx(C,{className:"w-5 h-5 text-slate-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:t.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[t.batch," â€¢ Age ",t.age]})]})]}),e.jsx("button",{onClick:()=>m(t),className:"text-primary text-sm font-medium",children:"Edit"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-slate-100 dark:border-slate-700",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${t.status==="Active"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:t.status}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${t.fees==="Paid"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:t.fees})]}),e.jsx("button",{onClick:()=>p(t.id),className:"text-red-500 p-2",children:e.jsx(v,{className:"w-4 h-4"})})]})]},t.id))}),e.jsx("div",{className:"hidden md:block bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 font-semibold text-slate-600 dark:text-slate-400",children:"Name"}),e.jsx("th",{className:"p-4 font-semibold text-slate-600 dark:text-slate-400",children:"Batch"}),e.jsx("th",{className:"p-4 font-semibold text-slate-600 dark:text-slate-400",children:"Age"}),e.jsx("th",{className:"p-4 font-semibold text-slate-600 dark:text-slate-400",children:"Status"}),e.jsx("th",{className:"p-4 font-semibold text-slate-600 dark:text-slate-400",children:"Fees"}),e.jsx("th",{className:"p-4 font-semibold text-slate-600 dark:text-slate-400",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:g.map((t,a)=>e.jsxs(N.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:a*.05},className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsx("td",{className:"p-4 font-medium text-slate-900 dark:text-white",children:t.name}),e.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-300",children:t.batch}),e.jsx("td",{className:"p-4 text-slate-600 dark:text-slate-300",children:t.age}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${t.status==="Active"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:t.status})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${t.fees==="Paid"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:t.fees})}),e.jsxs("td",{className:"p-4 flex gap-2",children:[e.jsx("button",{onClick:()=>m(t),className:"p-2 text-slate-400 hover:text-primary hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(E,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(t.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(v,{className:"w-4 h-4"})})]})]},t.id))})]})})]}),e.jsx(P,{isOpen:u,onClose:()=>x(!1),title:d?"Edit Student":"Add New Student",children:e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary outline-none",value:s.name,onChange:t=>l({...s,name:t.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Age"}),e.jsx("input",{type:"number",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary outline-none",value:s.age,onChange:t=>l({...s,age:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Batch"}),e.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary outline-none",value:s.batch,onChange:t=>l({...s,batch:t.target.value}),children:[e.jsx("option",{value:"Batch A",children:"Batch A"}),e.jsx("option",{value:"Batch B",children:"Batch B"}),e.jsx("option",{value:"Batch C",children:"Batch C"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Status"}),e.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary outline-none",value:s.status,onChange:t=>l({...s,status:t.target.value}),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fees"}),e.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary outline-none",value:s.fees,onChange:t=>l({...s,fees:t.target.value}),children:[e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Overdue",children:"Overdue"})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(j,{type:"submit",className:"w-full",children:d?"Update Student":"Add Student"})})]})})]})};export{T as AdminStudents};
