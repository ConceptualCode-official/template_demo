import{u as S,m as k,g as i,M as A,e as R,f as E,c as w,l as g,b as D,o as F,i as U,q as d,j as y,k as h}from"./index-CRBeZLeH.js";function p(t){const n=S(()=>k(t)),{isStatic:o}=i.useContext(A);if(o){const[,s]=i.useState(t);i.useEffect(()=>n.on("change",s),[])}return n}function b(t,n){const o=p(n()),s=()=>o.set(n());return s(),R(()=>{const e=()=>E.preRender(s,!1,!0),r=t.map(a=>a.on("change",e));return()=>{r.forEach(a=>a()),w(s)}}),o}function x(t){return typeof t=="number"?t:parseFloat(t)}function V(t,n={}){const{isStatic:o}=i.useContext(A),s=i.useRef(null),e=p(g(t)?x(t.get()):t),r=i.useRef(e.get()),a=i.useRef(()=>{}),c=()=>{const u=s.current;u&&u.time===0&&u.sample(D.delta),l(),s.current=F({keyframes:[e.get(),r.current],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:a.current})},l=()=>{s.current&&s.current.stop()};return i.useInsertionEffect(()=>e.attach((u,m)=>o?m(u):(r.current=u,a.current=m,E.update(c),e.get()),l),[JSON.stringify(n)]),R(()=>{if(g(t))return t.on("change",u=>e.set(x(u)))},[e]),e}const X=t=>t&&typeof t=="object"&&t.mix,Y=t=>X(t)?t.mix:void 0;function q(...t){const n=!Array.isArray(t[0]),o=n?0:-1,s=t[0+o],e=t[1+o],r=t[2+o],a=t[3+o],c=U(e,r,{mixer:Y(r[0]),...a});return n?c(s):c}function B(t){d.current=[],t();const n=b(d.current,t);return d.current=void 0,n}function C(t,n,o,s){if(typeof t=="function")return B(t);const e=typeof n=="function"?n:q(n,o,s);return Array.isArray(t)?M(t,e):M([t],([r])=>e(r))}function M(t,n){const o=S(()=>[]);return b(t,()=>{o.length=0;const s=t.length;for(let e=0;e<s;e++)o[e]=t[e].get();return n(o)})}const $=({children:t,className:n=""})=>{const o=i.useRef(null),s=p(0),e=p(0),r=V(s,{stiffness:500,damping:100}),a=V(e,{stiffness:500,damping:100});function c({currentTarget:f,clientX:j,clientY:v}){const{left:L,top:N,width:I,height:T}=f.getBoundingClientRect();s.set(j-L-I/2),e.set(v-N-T/2)}function l(){s.set(0),e.set(0)}const u=C(a,f=>f/-20),m=C(r,f=>f/20);return y.jsx(h.div,{ref:o,onMouseMove:c,onMouseLeave:l,style:{transformStyle:"preserve-3d",perspective:1e3},className:`relative ${n}`,children:y.jsx(h.div,{style:{rotateX:u,rotateY:m},className:"h-full w-full transition-all duration-200 ease-linear transform-gpu",children:t})})};export{$ as T,C as u};
