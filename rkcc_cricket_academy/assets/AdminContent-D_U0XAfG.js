import{h as I,g as d,j as e,B as j}from"./index-CRBeZLeH.js";import{a as i}from"./api-DRkCBYxQ.js";import{P as D,T as b,M}from"./Modal-B_u0SVFU.js";import{I as S}from"./image-Drd1BFn5.js";import{F as V}from"./file-text-ClfHjN9r.js";import{V as f}from"./video-DzUhxTxx.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],B=I("external-link",q),G=()=>{const[s,w]=d.useState("gallery"),[n,o]=d.useState([]),[c,x]=d.useState([]),[m,h]=d.useState([]),[k,p]=d.useState(!0),[v,u]=d.useState(!1),[l,r]=d.useState({});d.useEffect(()=>{N()},[]);const N=async()=>{p(!0);const[t,a]=await Promise.all([i.admin.getGallery(),i.admin.getBlogs()]);o(t),x(a),h([{id:1,title:"Batting Masterclass",url:"https://youtube.com/watch?v=123",date:"2023-10-20"},{id:2,title:"Fielding Drills",url:"https://youtube.com/watch?v=456",date:"2023-10-18"}]),p(!1)},y=async t=>{if(t.preventDefault(),s==="gallery"){const a=await i.admin.uploadImage(l);o([...n,a])}else if(s==="blogs"){const a=await i.admin.createBlog(l);x([...c,a])}else h([...m,{...l,id:Date.now(),date:new Date().toISOString().split("T")[0]}]);u(!1),r({})},g=async t=>{window.confirm("Delete this item?")&&(s==="gallery"?(await i.admin.deleteImage(t),o(n.filter(a=>a.id!==t))):s==="blogs"?(await i.admin.deleteBlog(t),x(c.filter(a=>a.id!==t))):h(m.filter(a=>a.id!==t)))},C=()=>{r({}),u(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Content Management"}),e.jsxs(j,{onClick:C,className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"})," Add ",s==="gallery"?"Image":s==="blogs"?"Post":"Video"]})]}),e.jsx("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-800 p-1 rounded-xl w-fit",children:[{id:"gallery",label:"Gallery",icon:S},{id:"blogs",label:"Blog Posts",icon:V},{id:"videos",label:"Videos",icon:f}].map(t=>e.jsxs("button",{onClick:()=>w(t.id),className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all ${s===t.id?"bg-white dark:bg-slate-700 text-primary dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[e.jsx(t.icon,{className:"w-4 h-4 mr-2"}),t.label]},t.id))}),e.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 min-h-[400px]",children:k?e.jsx("div",{className:"text-center py-20 text-slate-500",children:"Loading content..."}):e.jsxs(e.Fragment,{children:[s==="gallery"&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.map(t=>e.jsxs("div",{className:"group relative aspect-square rounded-lg overflow-hidden bg-slate-100",children:[e.jsx("img",{src:t.src,alt:"Gallery",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx("button",{onClick:()=>g(t.id),className:"p-2 bg-white rounded-full text-red-500 hover:bg-red-50",children:e.jsx(b,{className:"w-5 h-5"})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/80 to-transparent text-white text-xs",children:t.category})]},t.id))}),s==="blogs"&&e.jsx("div",{className:"space-y-4",children:c.map(t=>e.jsxs("div",{className:"flex justify-between items-center p-4 border border-slate-100 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:t.title}),e.jsxs("p",{className:"text-sm text-slate-500",children:["By ",t.author," â€¢ ",t.date]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${t.status==="Published"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:t.status}),e.jsx("button",{onClick:()=>g(t.id),className:"text-slate-400 hover:text-red-500",children:e.jsx(b,{className:"w-4 h-4"})})]})]},t.id))}),s==="videos"&&e.jsx("div",{className:"space-y-4",children:m.map(t=>e.jsxs("div",{className:"flex justify-between items-center p-4 border border-slate-100 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center text-red-600",children:e.jsx(f,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:t.title}),e.jsxs("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"text-sm text-primary hover:underline flex items-center",children:["Watch Video ",e.jsx(B,{className:"w-3 h-3 ml-1"})]})]})]}),e.jsx("button",{onClick:()=>g(t.id),className:"text-slate-400 hover:text-red-500",children:e.jsx(b,{className:"w-4 h-4"})})]},t.id))})]})}),e.jsx(M,{isOpen:v,onClose:()=>u(!1),title:`Add ${s==="gallery"?"Image":s==="blogs"?"Post":"Video"}`,children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s==="gallery"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"Image URL"}),e.jsx("input",{required:!0,type:"url",className:"w-full p-2 border rounded dark:bg-slate-800 dark:border-slate-700 dark:text-white",placeholder:"https://...",onChange:t=>r({...l,src:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"Category"}),e.jsxs("select",{className:"w-full p-2 border rounded dark:bg-slate-800 dark:border-slate-700 dark:text-white",onChange:t=>r({...l,category:t.target.value}),children:[e.jsx("option",{children:"Training"}),e.jsx("option",{children:"Match"}),e.jsx("option",{children:"Facilities"})]})]})]}),s==="blogs"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"Title"}),e.jsx("input",{required:!0,type:"text",className:"w-full p-2 border rounded dark:bg-slate-800 dark:border-slate-700 dark:text-white",onChange:t=>r({...l,title:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"Author"}),e.jsx("input",{required:!0,type:"text",className:"w-full p-2 border rounded dark:bg-slate-800 dark:border-slate-700 dark:text-white",onChange:t=>r({...l,author:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"Status"}),e.jsxs("select",{className:"w-full p-2 border rounded dark:bg-slate-800 dark:border-slate-700 dark:text-white",onChange:t=>r({...l,status:t.target.value}),children:[e.jsx("option",{children:"Draft"}),e.jsx("option",{children:"Published"})]})]})]}),s==="videos"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"Video Title"}),e.jsx("input",{required:!0,type:"text",className:"w-full p-2 border rounded dark:bg-slate-800 dark:border-slate-700 dark:text-white",onChange:t=>r({...l,title:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-white",children:"Video URL"}),e.jsx("input",{required:!0,type:"url",className:"w-full p-2 border rounded dark:bg-slate-800 dark:border-slate-700 dark:text-white",onChange:t=>r({...l,url:t.target.value})})]})]}),e.jsx(j,{type:"submit",className:"w-full",children:"Create"})]})})]})};export{G as AdminContent};
